# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":254,"y":17,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"g??RF]?65}mDL*lODRv`","fields":{"VAR":{"id":"Sfkt5!a|mBRd)veW}%@V"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"|^1Nfd(Dhq5-aHpPbK8(","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":".{{l7YMM6{J=2P$%DL}~","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"{s*h:+G,8yg8gJ~,~22#","fields":{"VAR":{"id":"VeQJ3bN/NZ@%t]W;@|j0"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"/wf]Q3.hq(|?BbXDYFxy","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"oT;4{l#}-P{P+YWsua[V","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"/5/4E([a|w*HXH3lCeZ1","fields":{"VAR":{"id":"g4h(Hwe2rwZ;t+I3jn}-"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"]M-5kmKcDnx$UGMu-3Nr","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"*$Utn7SALQwJcW0gvs{g","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_car","id":"7D9,d+uH1$jJcu/L|.{R","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"N?o:_)gI%v:qMoTdDK3}"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"eih^k6;{Y:2},r/h9j;C","fields":{"VAR":{"id":"g4h(Hwe2rwZ;t+I3jn}-","name":"steer","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"ZTl,ay[tn5`#UT;r:]iI","fields":{"VAR":{"id":"Sfkt5!a|mBRd)veW}%@V","name":"front","type":"Motor"}}}},"DRIVE1":{"shadow":{"type":"variables_get_motor_device","id":"Ga45HDGU4T`=MJLb`X|s","fields":{"VAR":{"id":"VeQJ3bN/NZ@%t]W;@|j0","name":"rear","type":"Motor"}}}}},"next":{"block":{"type":"variables_set_xbox_controller","id":"s+_^IwVdquWW*)1{jXc2","fields":{"VAR":{"id":"jO|qF()?HGJCju9#H|@j"}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":252,"y":363,"deletable":false,"next":{"block":{"type":"blockFlowWhile","id":"VoVB}x{TNVKlM$2,bw4@","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"BomU1(Vt;1T,#9Ll{diM"}},"DO":{"block":{"type":"blockCarDrive","id":"lgIQ`%W,O@d;1qGX*h_b","extraState":{"optionLevel":1},"fields":{"METHOD":"CAR_DRIVE_AT_POWER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_car_device","id":"V`Y45418lIx03ytU24V]","fields":{"VAR":{"id":"N?o:_)gI%v:qMoTdDK3}","name":"car","type":"Car"}}}},"ARG0":{"shadow":{"type":"unit_percent","id":"qP{0iwt,H{]#fVY.!2+F","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":";|~g{SR=:PQ9N~]-oLE;","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"9t`X6Iq4$;G#@iTg1kAf","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"KCe/~Igl{lOj]y;|:zPN","fields":{"JOYSTICK":"XBOX_RT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"rWy^~aM-oK3#%QMo9@)]","fields":{"VAR":{"id":"jO|qF()?HGJCju9#H|@j","name":"controller","type":"XboxController"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":",ZJeGu5j/is]w/-j?v-k","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"}At`)tGf$m,y^=UIgKgc","fields":{"JOYSTICK":"XBOX_LT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"JMyX.NUun;_JSNfS]F[h","fields":{"VAR":{"id":"jO|qF()?HGJCju9#H|@j","name":"controller","type":"XboxController"}}}}}}}}}}},"next":{"block":{"type":"blockCarSteer","id":"LK2khVSl+b:M_i(-avdQ","inputs":{"VAR":{"shadow":{"type":"variables_get_car_device","id":"RTR?tH8|$cNc4]c2QHNW","fields":{"VAR":{"id":"N?o:_)gI%v:qMoTdDK3}","name":"car","type":"Car"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"I!FN])%J6VvXfJW$XlwZ","fields":{"VALUE0":0}},"block":{"type":"blockJoystickValue","id":"D;Q0R#_CDosKVXX%c[`6","fields":{"JOYSTICK":"XBOX_LJ_X"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"8up=nR.TaMD5=P@5R2?}","fields":{"VAR":{"id":"jO|qF()?HGJCju9#H|@j","name":"controller","type":"XboxController"}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"FzD$8|dNe|B#-2+Y.hdQ","type":"ColorDef"},{"name":"orange","id":"{of6uF9-$%Ft6U1VDf[Q","type":"ColorDef"},{"name":"yellow","id":"aKr)5Gf-6htFP?X%sbBO","type":"ColorDef"},{"name":"green","id":"WuP|e8`f=qfAVRiq19f2","type":"ColorDef"},{"name":"cyan","id":"}XXP6~EkM]eIFloyy2{d","type":"ColorDef"},{"name":"blue","id":"GxK}gQ$dvFo8D5[;mUiO","type":"ColorDef"},{"name":"violet","id":"WO-ukRlm7I.O6CxS~5(5","type":"ColorDef"},{"name":"magenta","id":"7%6im3e@o~v3Yf1Z9G81","type":"ColorDef"},{"name":"white","id":"/)?+7F;=2eSALN@0F)84","type":"ColorDef"},{"name":"none","id":"atL7YEXxu:k_%tXHmWx[","type":"ColorDef"},{"name":"car","id":"N?o:_)gI%v:qMoTdDK3}","type":"Car"},{"name":"controller","id":"jO|qF()?HGJCju9#H|@j","type":"XboxController"},{"name":"front","id":"Sfkt5!a|mBRd)veW}%@V","type":"Motor"},{"name":"rear","id":"VeQJ3bN/NZ@%t]W;@|j0","type":"Motor"},{"name":"steer","id":"g4h(Hwe2rwZ;t+I3jn}-","type":"Motor"}]}
from pybricks.iodevices import XboxController
from pybricks.parameters import Direction, Port
from pybricks.pupdevices import Motor
from pybricks.robotics import Car

# Set up all devices.
front = Motor(Port.A, Direction.CLOCKWISE)
rear = Motor(Port.B, Direction.CLOCKWISE)
steer = Motor(Port.D, Direction.CLOCKWISE)
car = Car(steer, [front, rear])
controller = XboxController()


# The main program starts here.
while True:
    car.drive_power(controller.triggers()[1] - controller.triggers()[0])
    car.steer(controller.joystick_left()[0])
